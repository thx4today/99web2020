<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<title>position memu</title>
	<link rel="stylesheet" href="../../css/reset.css">
	<script src="../../js/jquery-3.1.1.min.js"></script>
	<script>
		$(function(){
			// ***1st menu***
			// var oneTop = $("#v01s").offset().top;
			// var twoTop = $("#v02s").offset().top;
			// var threeTop = $("#v03s").offset().top;
			// $(".menu>a").eq(0).click(function(){
			// 	$("html").animate({scrollTop:oneTop},300)
			// });
			// $(".menu>a").eq(1).click(function(){
			// 	$("html").animate({scrollTop:twoTop},300)
			// });
			// $(".menu>a").eq(2).click(function(){
			// 	$("html").animate({scrollTop:threeTop},300)
			// });
			//***2st menu***
			var menu=$(".menu>a");
			var section=$(".scene");

			menu.click(function(){
				var i = $(this).index();
				//console.log(i);
				var st = section.eq(i).offset().top;
				$("html").stop().animate({scrollTop:st},300);
			});
			//***3st menu***
			$(".menu>a").click(function(){
				var st = $(this.hash).offset().top;
				$("html").stop().animate({scrollTop:st},300);
				return false;
			});

			$(window).scroll(function(){
				var scrollY=$(window).scrollTop();
				if(section.eq(0).offset().top<=scrollY){
					$(menu).removeClass("on").eq(0).addClass("on");
				}
				if($(section).eq(1).offset().top<=scrollY){
					$(menu).removeClass("on").eq(1).addClass("on");
				}
				if($(section).eq(2).offset().top<= scrollY){
					$(menu).removeClass("on").eq(2).addClass("on");
				}
				
				//2st FOR문
				for(var i=0;i<3;i++){
					if($(".scene").eq(i).offset().top<=scrollY){
						$(".menu>a").removeClass("on").eq(i).addClass("on");
					}
				};

				//3st each
				section.each(function(){
					var i =$(this).index()-1;
					if($(this).offset().top<=scrollY){
						menu.removeClass("on").eq(i).addClass("on");
					}
				});
			
			});
		});
	</script>
	<style>
		html,body{height: 100%;}
		.scene{
			width: 100%;height: 100%;
			background-attachment: fixed; /*모바일사용불가*/
			background-position: center;
			background-size: cover;
			position: relative;
		}
		.scene.one{background-image: url(../../images/pc01.jpg);}
		.scene.two{background-image: url(../../images/pc02.jpg);}
		.scene.three{background-image: url(../../images/pc03.jpg);}
		.scene div{
			width: 600px;position: absolute;
			left: 50%;top: 50%;transform: translate(-50%,-50%);
			color: #fff; text-align: center;
		}
		.scene div h1:after{
			content:"";width: 30%;height: 1px;background-color: #fff;display: block;
			margin: 10px auto;
		}
		.menu{position: fixed;width: 100%;height: 40px;background-color: skyblue;z-index: 1;padding-left: 30px;}
		.menu a{display: inline-block;line-height: 40px;}
		.menu a.on{background-color: #f00;}
	</style>
</head>
<body>
	<nav class="menu">
		<a href="#v01s" class="on">MENU1</a> <!-- 자체 페이지에서 이동할 경우 #을 넣어준다 -->
		<a href="#v02s">MENU2</a>
		<a href="#v03s">MENU3</a>
	</nav>
	<section class="scene one" id="v01s">
		<!-- div>h1>lorem5^p>lorem20 -->
		<div>
			<h1>Lorem ipsum dolor sit amet.</h1>
			<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque voluptate iusto vitae, doloribus, alias temporibus. Natus asperiores, nobis eius assumenda.</p>
		</div>
	</section>
	<section class="scene two" id="v02s">
		<div>
			<h1>Lorem ipsum dolor sit amet.</h1>
			<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque voluptate iusto vitae, doloribus, alias temporibus. Natus asperiores, nobis eius assumenda.</p>
		</div>
	</section>
	<section class="scene three" id="v03s">
		<div>
			<h1>Lorem ipsum dolor sit amet.</h1>
			<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cumque voluptate iusto vitae, doloribus, alias temporibus. Natus asperiores, nobis eius assumenda.</p>
		</div>
	</section>
</body>
</html>